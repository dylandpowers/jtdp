{"version":3,"sources":["components/TextInput/styles.module.css","components/Firebase/firebase.js","serviceWorker.js","components/TextInput/index.js","components/JWT/utils.js","containers/LoginPage/index.js","components/CountdownDisplay/index.js","containers/SlideshowPage/index.js","routes/ProtectedRoute.js","index.js","containers/LoginPage/styles.module.css","components/CountdownDisplay/styles.module.css","containers/SlideshowPage/styles.module.css"],"names":["module","exports","firebaseConfig","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","FirebaseContext","React","createContext","Firebase","signInWithEmail","email","password","callback","auth","signInWithEmailAndPassword","then","success","catch","err","fetchAllImageUrls","storage","ref","listAll","res","Promise","all","prefixes","map","prefix","resolve","reject","prefixRes","items","item","getDownloadURL","urls","name","data","incrementConfettiCount","childName","user","currentUser","startsWith","firebase","database","child","transaction","currentNum","uploadDylanImage","image","imageType","imageDirectory","put","initializeApp","this","withFirebase","Component","props","Consumer","Boolean","window","location","hostname","match","TextInput","placeholder","onChange","autoFocus","value","width","type","customStyle","id","className","styles","input","style","isAuthenticated","jwt","verify","localStorage","getItem","LoginPage","state","isLoggedIn","onSubmit","bind","console","log","setState","e","preventDefault","error","history","push","sign","expiresIn","token","setItem","to","container","form","header","target","marginTop","button","tabIndex","withRouter","CountdownDisplay","smallText","date","renderer","completed","text","days","hours","minutes","seconds","SlideshowPage","pushConfettiElement","confettiElements","key","confettiNumber","colors","drawShape","context","drawHeart","recycle","onConfettiComplete","removeConfettiElement","shift","forEach","imageSet","allImages","updateImageUrlsAndImageMode","x","y","height","beginPath","topCurveHeight","moveTo","bezierCurveTo","stroke","fill","closePath","newImageMode","imageMode","newImageUrls","Object","keys","imageUrls","_shuffleArray","toggleConfetti","uploadImage","event","files","array","i","length","j","Math","floor","random","element","buttonContainer","buttonSelected","role","onClick","mainContentContainer","classNames","paneContainer","duration","transitionDuration","infinite","indicators","gallery","url","index","src","filePickerContainer","fileInput","filePickerButton","click","coupleFileInput","ProtectedRoute","checkAccess","isUserAuthenticated","hasAccess","isLoaded","component","rest","render","ReactDOM","Provider","exact","path","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"iFACAA,EAAOC,QAAU,CAAC,MAAQ,wB,6OCEpBC,EAAiB,CACrBC,OAAQC,0CACRC,WAAY,6BACZC,YAAa,oCACbC,UAAW,aACXC,cAAe,yBACfC,kBAAmB,eACnBC,MAAO,6CAkEHC,EAAkBC,IAAMC,cAAc,MAE7BC,EA7Db,aAAe,IAAD,gCAWdC,gBAAkB,SAACC,EAAOC,EAAUC,GAClC,EAAKC,KAAKC,2BAA2BJ,EAAOC,GACzCI,MAAK,kBAAMH,EAAS,CAAEI,SAAS,OAC/BC,OAAM,SAACC,GAAD,OAASN,EAAS,CAAEI,SAAS,EAAOE,IAAKA,QAdtC,KAiBdC,kBAAoB,SAACP,GACnB,EAAKQ,QAAQC,MACVC,UACAP,MAAK,SAACQ,GACLC,QAAQC,IAAIF,EAAIG,SAASC,KAAI,SAACC,GAC5B,OAAO,IAAIJ,SAAQ,SAACK,EAASC,GAC3BF,EAAON,UAAUP,MAAK,SAACgB,GACrBP,QAAQC,IAAIM,EAAUC,MAAML,KAAI,SAACM,GAAD,OAAUA,EAAKC,qBAC5CnB,MAAK,SAACoB,GAAD,OAAUN,EAAQ,CAAEO,KAAMR,EAAOQ,KAAMD,KAAMA,OAClDlB,OAAM,SAACC,GAAD,OAASY,EAAOZ,SACxBD,OAAM,SAACC,GAAD,OAASY,EAAOZ,aAEzBH,MAAK,SAACsB,GAAD,OAAUzB,EAAS,CAAEI,SAAS,EAAMqB,KAAMA,OAClDpB,OAAM,SAACC,GAAD,OAASN,EAAS,CAAEI,SAAS,EAAOE,IAAKA,UAC/CD,OAAM,SAACC,GAAD,OAASN,EAAS,CAAEI,SAAS,EAAOE,IAAKA,QA/BxC,KAkCdoB,uBAAyB,WACvB,IAEMC,EAFAC,EAAO,EAAK3B,KAAK4B,YACnBD,IAIAD,EADEC,EAAK9B,MAAMgC,WAAW,KACZ,UAEA,QAEdC,IAASC,WACRvB,IAAI,UACJwB,MAAMN,GACNO,aAAY,SAAAC,GAAU,OAAKA,GAAc,GAAK,OA/CrC,KAmDdC,iBAAmB,SAACC,EAAOC,GACzB,IAAMC,EAA+B,UAAdD,EAxDA,cACC,eAwDxB,EAAK9B,QAAQC,MACVwB,MAAMM,EAAiBF,EAAMb,MAC7BgB,IAAIH,IAtDPN,IAASU,cAAczD,GACvB0D,KAAKzC,KAAO8B,IAAS9B,OACrByC,KAAKlC,QAAUuB,IAASvB,WA4DfmC,EAAe,SAAAC,GAAS,OAAI,SAAAC,GAAK,OAC5C,kBAACpD,EAAgBqD,SAAjB,MACG,SAAAf,GAAQ,OAAI,kBAACa,EAAD,iBAAeC,EAAf,CAAsBd,SAAUA,UCtE7BgB,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,wFCiBSC,EA9BG,SAAC,GAA+E,IAA7EC,EAA4E,EAA5EA,YAAaC,EAA+D,EAA/DA,SAAUC,EAAqD,EAArDA,UAAWC,EAA0C,EAA1CA,MAAOC,EAAmC,EAAnCA,MAAOC,EAA4B,EAA5BA,KAAMC,EAAsB,EAAtBA,YAAaC,EAAS,EAATA,GAEtF,OACE,2BACEC,UAAWC,IAAOC,MAClBC,MAAK,aACHP,MAAM,QAAD,OAAUA,EAAV,aACFE,GAELC,GAAIA,EACJP,YAAaA,EACbC,SAAUA,EACVI,KAAMA,GAAQ,OACdH,UAAWA,EAAY,YAAc,GACrCC,MAAOA,K,iBCfAS,EAAkB,WAC7B,IACUC,IAAIC,OAAOC,aAAaC,QAJjB,aAIsCnF,wBACrD,OAAO,EACP,MAAOoB,GACP,OAAO,ICCLgE,E,YACJ,WAAYzB,GAAQ,IAAD,8BACjB,4CAAMA,KAED0B,MAAQ,CACXzE,MAAO,GACPC,SAAU,GACVyE,YAAY,GAGd,EAAKzC,SAAWc,EAAMd,SACtB,EAAK0C,SAAW,EAAKA,SAASC,KAAd,gBAVC,E,iFAcjBC,QAAQC,IAAI,WACZlC,KAAKmC,SAAS,CAAEL,WAAYP,Q,+BAGrBa,GAAI,IAAD,OACVA,EAAEC,iBAEFrC,KAAKX,SAASlC,gBAAgB6C,KAAK6B,MAAMzE,MAAO4C,KAAK6B,MAAMxE,UAAU,SAACY,GDnBjD,IAACb,EAAOE,ECoBtBW,EAAIP,SDpBWN,ECuBR,EAAKyE,MAAMzE,MDvBIE,ECuBG,SAACM,GACvBA,EACFqE,QAAQK,MAAM1E,GAEd,EAAKuC,MAAMoC,QAAQC,KAAK,cD1BlChB,IAAIiB,KAAK,CAAEvD,KAAM9B,GAASZ,uBAAkC,CAAEkG,UAAW,SAAqB,SAACJ,EAAOK,GAChGL,EACFhF,EAASgF,IAETZ,aAAakB,QAhBA,YAgBoBD,GACjCrF,SCeE2E,QAAQK,MAAMrE,EAAIL,U,+BAad,IAAD,OACP,OAAIoC,KAAK6B,MAAMC,WACN,kBAAC,IAAD,CAAUe,GAAG,cAIpB,yBAAK1B,UAAWC,IAAO0B,WACrB,0BAAMf,SAAU/B,KAAK+B,SAAUZ,UAAWC,IAAO2B,MAC/C,yBAAK5B,UAAWC,IAAO4B,QAAvB,cAGA,kBAAC,EAAD,CACElC,MAAOd,KAAK6B,MAAMzE,MAClBwD,SAAU,SAACwB,GAAD,OAAO,EAAKD,SAAS,CAAE/E,MAAOgF,EAAEa,OAAOnC,SACjDH,YAAY,QACZK,KAAK,OACLD,MAAM,QAER,kBAAC,EAAD,CACEE,YAAa,CAAEiC,UAAW,QAC1BpC,MAAOd,KAAK6B,MAAMxE,SAClBuD,SAAU,SAACwB,GAAD,OAAO,EAAKD,SAAS,CAAE9E,SAAU+E,EAAEa,OAAOnC,SACpDH,YAAY,WACZK,KAAK,WACLD,MAAM,QAER,2BACEI,UAAWC,IAAO+B,OAClBnC,KAAK,SACLF,MAAM,QACNsC,SAAU,U,GAnEEpG,IAAMkD,WA2EfmD,cAAWpD,EAAa2B,I,6FChDxB0B,E,YA/Bb,WAAYnD,GAAQ,IAAD,8BACjB,4CAAMA,KAEDA,MAAQA,EAHI,E,sEAgBjB,OACE,yBAAKgB,UAAWC,IAAO0B,WACrB,uBAAG3B,UAAWC,IAAOmC,WAArB,oCAGA,kBAAC,IAAD,CACEC,KAAK,4BACLC,SAfW,SAACtD,GAChB,OAAIA,EAAMuD,UACD,yBAAKvC,UAAWC,IAAOuC,MAAvB,mBAGF,yBAAKxC,UAAWC,IAAOuC,MAAOxD,EAAMyD,KAApC,KAA4CzD,EAAM0D,MAAlD,KAA2D1D,EAAM2D,QAAjE,KAA4E3D,EAAM4D,QAAlF,a,GAdkB/G,IAAMkD,WCW/B8D,E,YACJ,WAAY7D,GAAQ,IAAD,8BACjB,4CAAMA,KAwBR8D,oBAAsB,WACpB,EAAK9B,SAAS,CACZ+B,iBAAiB,GAAD,mBACX,EAAKrC,MAAMqC,kBADA,CAEd,kBAAC,IAAD,CACEC,IAAK,EAAKtC,MAAMuC,eAChBC,OAAQ,CAAC,UAAW,UAAW,UAAW,WAC1CC,UAAW,SAAAC,GAAO,OAAI,EAAKC,UAAUD,EAAS,EAAG,EAAG,GAAI,KACxDE,SAAS,EACTC,mBAAoB,EAAKC,0BAG7BP,eAAgB,EAAKvC,MAAMuC,eAAiB,KArC7B,EAyCnBO,sBAAwB,WACtB,IAAMT,EAAmB,EAAKrC,MAAMqC,iBACpCA,EAAiBU,QACjB,EAAKzC,SAAS,CAAE+B,sBA5CC,EA+CnBrG,kBAAoB,SAACP,GACnB,EAAK+B,SAASxB,mBAAkB,SAAAI,GAC1BA,EAAIP,SACNO,EAAIc,KAAK8F,SAAQ,SAACC,GAChB,EAAKC,UAAUD,EAAShG,MAAQgG,EAASjG,QAE3C,EAAKmG,4BAzDa,gBA2DlB/C,QAAQK,MAAMrE,EAAIL,SAvDL,EA4DnB4G,UAAY,SAACD,EAASU,EAAGC,EAAGnE,EAAOoE,GACjCZ,EAAQa,YACR,IAAIC,EAA0B,GAATF,EACrBZ,EAAQe,OAAOL,EAAGC,EAAIG,GAEtBd,EAAQgB,cACNN,EAAGC,EACHD,EAAIlE,EAAQ,EAAGmE,EACfD,EAAIlE,EAAQ,EAAGmE,EAAIG,GAIrBd,EAAQgB,cACNN,EAAIlE,EAAQ,EAAGmE,GAAKC,EAASE,GAAkB,EAC/CJ,EAAGC,GAAKC,EAASE,GAAkB,EACnCJ,EAAGC,EAAIC,GAITZ,EAAQgB,cACNN,EAAGC,GAAKC,EAASE,GAAkB,EACnCJ,EAAIlE,EAAQ,EAAGmE,GAAKC,EAASE,GAAkB,EAC/CJ,EAAIlE,EAAQ,EAAGmE,EAAIG,GAIrBd,EAAQgB,cACNN,EAAIlE,EAAQ,EAAGmE,EACfD,EAAGC,EACHD,EAAGC,EAAIG,GAGTd,EAAQiB,SACRjB,EAAQkB,OACRlB,EAAQmB,aA9FS,EAiGnBV,4BAA8B,SAACW,GAE7B,GADmB,EAAK9D,MAAM+D,YACTD,EAArB,CAIA,IAAIE,EAAe,GA1GA,QA2GfF,EACFG,OAAOC,KAAK,EAAKhB,WAAWF,SAAQ,SAACV,GAAD,OAAS0B,EAAarD,KAAb,MAAAqD,EAAY,YAAS,EAAKd,UAAUZ,QAEjF0B,EAAarD,KAAb,MAAAqD,EAAY,YAAS,EAAKd,UAAUY,KAEtC,EAAKxD,SAAS,CACZyD,UAAWD,EACXK,UAAW,EAAKC,cAAcJ,OA/Gf,EAmHnBK,eAAiB,WACf,EAAK7G,SAASL,yBACd,EAAKiF,uBArHY,EAwHnBkC,YAAc,SAACC,EAAOxG,GACpB,EAAKP,SAASK,iBAAiB0G,EAAMnD,OAAOoD,MAAM,GAAIzG,IAzHrC,EA4HnBqG,cAAgB,SAACK,GACf,IAAK,IAAIC,EAAID,EAAME,OAAS,EAAGD,EAAI,EAAGA,IAAK,CACzC,IAAME,EAAIC,KAAKC,MAAMD,KAAKE,UAAYL,EAAI,IADD,EAElB,CAACD,EAAMG,GAAIH,EAAMC,IAAvCD,EAAMC,GAFkC,KAE9BD,EAAMG,GAFwB,KAI3C,OAAOH,GA9HP,EAAKzE,MAAQ,CACX+D,UAAW,GACXI,UAAW,GACX5B,eAAgB,EAChBF,iBAAkB,IAGpB,EAAKa,UAAY,GAEjB,EAAK1F,SAAWc,EAAMd,SAEtB,EAAKxB,kBAAoB,EAAKA,kBAAkBmE,KAAvB,gBACzB,EAAKgD,4BAA8B,EAAKA,4BAA4BhD,KAAjC,gBACnC,EAAKkE,eAAiB,EAAKA,eAAelE,KAApB,gBACtB,EAAKmE,YAAc,EAAKA,YAAYnE,KAAjB,gBAjBF,E,iFAqBjBhC,KAAKnC,oBACLmC,KAAKiE,wB,+BA8GG,IAAD,OASP,OACE,yBAAK9C,UAAWC,IAAO0B,WACpB9C,KAAK6B,MAAMqC,iBAAiB7F,KAAI,SAAAwI,GAAO,OAAIA,KAC5C,yBAAK1F,UAAWC,IAAO0F,iBACrB,yBACE3F,UAtJc,gBAsJHnB,KAAK6B,MAAM+D,UAAkCxE,IAAO2F,eAAiB3F,IAAO+B,OACvF6D,KAAK,SACLC,QAAS,SAAC7E,GAAD,OAAO,EAAK4C,4BAxJP,iBAqJhB,UAOA,yBACE7D,UA5JW,QA4JAnB,KAAK6B,MAAM+D,UAA+BxE,IAAO2F,eAAiB3F,IAAO+B,OACpF6D,KAAK,SACLC,QAAS,SAAC7E,GAAD,OAAO,EAAK4C,4BA9JV,SA2Jb,QAOA,yBACE7D,UArKa,eAqKFnB,KAAK6B,MAAM+D,UAAiCxE,IAAO2F,eAAiB3F,IAAO+B,OACtF6D,KAAK,SACLC,QAAS,SAAC7E,GAAD,OAAO,EAAK4C,4BAvKR,gBAoKf,UAQF,yBAAK7D,UAAWC,IAAO8F,sBACrB,yBAAK/F,UAAWgG,IAAW/F,IAAOgG,cAAe,SAC/C,kBAAC,EAAD,OAEF,kBAAC,OAAD,iBArCiB,CACrBC,SAAU,IACVC,mBAAoB,IACpBC,UAAU,EACVC,YAAY,GAiCR,CAA0BrG,UAAWC,IAAOqG,UAExCzH,KAAK6B,MAAMmE,UAAU3H,KAAI,SAACqJ,EAAKC,GAAN,OAAgB,yBAAKxD,IAAKwD,EAAOC,IAAKF,EAAKvG,UAAWC,IAAOzB,YAG1F,yBAAKwB,UAAWgG,IAAW/F,IAAOgG,cAAe,UAC/C,yBACEjG,UAAWC,IAAO+B,OAClB6D,KAAK,SACLC,QAAS,SAAC7E,GAAD,OAAO,EAAK8D,mBAHvB,iBASJ,yBAAK/E,UAAWC,IAAOyG,qBACrB,2BACE7G,KAAK,OACLJ,SAAU,SAACwB,GAAD,OAAO,EAAK+D,YAAY/D,EAAG,UACrCd,MAAO,CAAE,QAAW,QACpBvD,IAAK,SAAA+J,GAAS,OAAI,EAAKA,UAAYA,KAErC,4BAAQ3G,UAAWC,IAAO2G,iBAAkBd,QAAS,kBAAM,EAAKa,UAAUE,UAA1E,sBAGA,2BACEhH,KAAK,OACLJ,SAAU,SAACwB,GAAD,OAAO,EAAK+D,YAAY/D,EAAG,WACrCd,MAAO,CAAE,QAAW,QACpBvD,IAAK,SAAAkK,GAAe,OAAI,EAAKA,gBAAkBA,KAEjD,4BAAQ9G,UAAWC,IAAO2G,iBAAkBd,QAAS,kBAAM,EAAKgB,gBAAgBD,UAAhF,6B,GA3MkBhL,IAAMkD,WAoNnBmD,cAAWpD,EAAa+D,I,SChOjCkE,E,YACJ,WAAY/H,GAAQ,IAAD,8BACjB,4CAAMA,KAcRgI,YAAc,WACZ,IAAMC,EAAsB7G,IAC5B,EAAKY,SAAS,CACZkG,UAAWD,EACXE,UAAU,KAhBZ,EAAKzG,MAAQ,CACXwG,WAAW,EACXC,UAAU,GAGZ,EAAKH,YAAc,EAAKA,YAAYnG,KAAjB,gBARF,E,iFAYjBhC,KAAKmI,gB,+BAWG,IAAD,OACP,IAAKnI,KAAK6B,MAAMyG,SACd,OAAO,KAFF,MAKmCtI,KAAKG,MAA5BD,EALZ,EAKCqI,UAAyBC,EAL1B,6BAOP,OACE,kBAAC,IAAD,iBACMA,EADN,CAEEC,OAAQ,SAACtI,GACP,OAAO,EAAK0B,MAAMwG,UAChB,kBAACnI,EAAcC,GAEf,kBAAC,IAAD,CAAU0C,GAAG,c,GAtCI7F,IAAMkD,WA8CpBmD,cAAW6E,GCxC1BQ,IAASD,OACP,kBAAC1L,EAAgB4L,SAAjB,CAA0B7H,MAAO,IAAI5D,GACnC,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO0L,OAAK,EAACC,KAAK,IAAIN,UAAW3G,IACjC,kBAAC,EAAD,CAAgBgH,OAAK,EAACC,KAAK,YAAYN,UAAWvE,IAClD,kBAAC,IAAD,CAAOuE,UAAW3G,OAIxBkH,SAASC,eAAe,SP+GpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMzL,MAAK,SAAA0L,GACjCA,EAAaC,iB,mBQpInBhN,EAAOC,QAAU,CAAC,UAAY,0BAA0B,KAAO,qBAAqB,OAAS,uBAAuB,UAAY,0BAA0B,OAAS,yB,mBCAnKD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,KAAO,qBAAqB,UAAY,4B,kBCAhGD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,gBAAkB,gCAAgC,oBAAsB,oCAAoC,iBAAmB,iCAAiC,qBAAuB,qCAAqC,OAAS,uBAAuB,eAAiB,+BAA+B,cAAgB,8BAA8B,KAAO,qBAAqB,OAAS,uBAAuB,MAAQ,sBAAsB,MAAQ,sBAAsB,QAAU,2B","file":"static/js/main.7cb89742.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"styles_input__2gjR5\"};","import React from 'react';\nimport firebase from 'firebase';\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: \"jtdp-60b3d.firebaseapp.com\",\n  databaseURL: \"https://jtdp-60b3d.firebaseio.com\",\n  projectId: \"jtdp-60b3d\",\n  storageBucket: \"jtdp-60b3d.appspot.com\",\n  messagingSenderId: \"786415873557\",\n  appId: \"1:786415873557:web:defecb2e86a857bf8b281c\"\n};\n\nconst DYLAN_PICS_DIRNAME = 'dylan-pics/';\nconst COUPLE_PICS_DIRNAME = 'couple-pics/';\n\nclass Firebase {\n  constructor() {\n    firebase.initializeApp(firebaseConfig);\n    this.auth = firebase.auth();\n    this.storage = firebase.storage();\n  }\n\n  /**\n   * @param {string} email\n   * @param {string} password\n   * @param {function} callback\n   */\n  signInWithEmail = (email, password, callback) => {\n    this.auth.signInWithEmailAndPassword(email, password)\n      .then(() => callback({ success: true }))\n      .catch((err) => callback({ success: false, err: err }));\n  };\n\n  fetchAllImageUrls = (callback) => {\n    this.storage.ref()\n      .listAll()\n      .then((res) => {\n        Promise.all(res.prefixes.map((prefix) => {\n          return new Promise((resolve, reject) => {\n            prefix.listAll().then((prefixRes) => {\n              Promise.all(prefixRes.items.map((item) => item.getDownloadURL()))\n                .then((urls) => resolve({ name: prefix.name, urls: urls }))\n                .catch((err) => reject(err));\n            }).catch((err) => reject(err));\n          });\n        })).then((data) => callback({ success: true, data: data }))\n        .catch((err) => callback({ success: false, err: err }))\n      }).catch((err) => callback({ success: false, err: err }));\n  }\n\n  incrementConfettiCount = () => {\n    const user = this.auth.currentUser;\n    if (user) {\n      var childName;\n      // this is hacky buuuut whatever\n      if (user.email.startsWith('j')) {\n        childName = 'Jasmine';\n      } else {\n        childName = 'Dylan'\n      }\n      firebase.database()\n      .ref('clicks')\n      .child(childName)\n      .transaction(currentNum => (currentNum || 0) + 1);\n    }\n  };\n\n  uploadDylanImage = (image, imageType) => {\n    const imageDirectory = imageType === 'Dylan' ? DYLAN_PICS_DIRNAME : COUPLE_PICS_DIRNAME;\n    this.storage.ref()\n      .child(imageDirectory + image.name)\n      .put(image);\n  };\n}\n\nconst FirebaseContext = React.createContext(null);\n\nexport default Firebase;\n\nexport const withFirebase = Component => props => (\n  <FirebaseContext.Consumer>\n    {firebase => <Component {...props} firebase={firebase} />}\n  </FirebaseContext.Consumer>\n);\n\nexport { FirebaseContext };","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './styles.module.css';\n\nconst TextInput = ({ placeholder, onChange, autoFocus, value, width, type, customStyle, id }) => {\n  // fontSize defaults to 20px if not included\n  return (\n    <input\n      className={styles.input}\n      style={{\n        width: `calc(${width} - 20px)`,\n        ...customStyle,\n      }}\n      id={id}\n      placeholder={placeholder}\n      onChange={onChange}\n      type={type || 'text'}\n      autoFocus={autoFocus ? 'autofocus' : ''}\n      value={value}\n    />\n  );\n};\n\nTextInput.propTypes = {\n  placeholder: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n  autoFocus: PropTypes.bool,\n  value: PropTypes.any,\n  width: PropTypes.string,\n  type: PropTypes.string,\n  customStyle: PropTypes.object,\n  id: PropTypes.string,\n};\n\nexport default TextInput;\n","import jwt from 'jsonwebtoken';\n\nconst TOKEN_NAME = 'jwt-token';\n\nexport const isAuthenticated = () => {\n  try {\n    let _ = jwt.verify(localStorage.getItem(TOKEN_NAME), process.env.REACT_APP_JWT_SECRET);\n    return true;\n  } catch (err) {\n    return false;\n  }\n};\n\nexport const signToken = (email, callback) => {\n  jwt.sign({ user: email }, process.env.REACT_APP_JWT_SECRET, { expiresIn: 60 * 60 * 24 * 30 }, (error, token) => {\n    if (error) {\n      callback(error);\n    } else {\n      localStorage.setItem(TOKEN_NAME, token);\n      callback();\n    }\n  });\n};","import React from 'react';\nimport { withRouter, Redirect } from 'react-router-dom';\n\nimport styles from './styles.module.css';\nimport { withFirebase } from '../../components/Firebase/firebase';\nimport TextInput from '../../components/TextInput';\nimport { isAuthenticated, signToken } from '../../components/JWT/utils';\n\nconst TOKEN_NAME = 'jwt-token';\n\nclass LoginPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n      password: '',\n      isLoggedIn: false\n    };\n\n    this.firebase = props.firebase;\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    console.log('Mounted');\n    this.setState({ isLoggedIn: isAuthenticated() });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    this.firebase.signInWithEmail(this.state.email, this.state.password, (res) => {\n      if (!res.success) {\n        console.error(res.err);\n      } else {\n        signToken(this.state.email, (err) => {\n          if (err) {\n            console.error(err);\n          } else {\n            this.props.history.push('/iloveyou');\n          }\n        });\n      }\n    });\n  }\n\n  render() {\n    if (this.state.isLoggedIn) {\n      return <Redirect to=\"/iloveyou\" />\n    }\n\n    return (\n      <div className={styles.container}>\n        <form onSubmit={this.onSubmit} className={styles.form}>\n          <div className={styles.header}>\n            Hi love :)\n          </div>\n          <TextInput\n            value={this.state.email}\n            onChange={(e) => this.setState({ email: e.target.value })}\n            placeholder=\"email\"\n            type=\"text\"\n            width=\"80%\"\n          />\n          <TextInput\n            customStyle={{ marginTop: '15px' }}\n            value={this.state.password}\n            onChange={(e) => this.setState({ password: e.target.value })}\n            placeholder=\"password\"\n            type=\"password\"\n            width=\"80%\"\n          />\n          <input \n            className={styles.button}\n            type=\"submit\"\n            value=\"Login\"\n            tabIndex={0}\n          />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(withFirebase(LoginPage));","import React from 'react';\nimport Countdown from 'react-countdown';\n\nimport styles from './styles.module.css';\n\nclass CountdownDisplay extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.props = props;\n  }\n\n  render() {\n\n    const renderer = (props) => {\n      if (props.completed) {\n        return <div className={styles.text}>We're together!</div>;\n      }\n\n      return <div className={styles.text}>{props.days}d {props.hours}h {props.minutes}m {props.seconds}s</div>;\n    };\n\n    return (\n      <div className={styles.container}>\n        <u className={styles.smallText}>\n          Countdown to 6 month anniversary\n        </u>\n        <Countdown\n          date=\"2020-04-06T05:00:00+00:00\"\n          renderer={renderer}\n        >\n        </Countdown>\n      </div>\n    );\n  }\n}\n\nexport default CountdownDisplay;","import React from 'react';\nimport { Redirect, withRouter } from 'react-router-dom';\nimport { Fade } from 'react-slideshow-image';\nimport Countdown from 'react-countdown';\nimport { useWindowSize } from '@react-hook/window-size';\nimport Confetti from 'react-confetti';\nimport classNames from 'classnames';\n\nimport styles from './styles.module.css';\nimport { withFirebase } from '../../components/Firebase/firebase';\nimport CountdownDisplay from '../../components/CountdownDisplay';\n\nconst DYLAN_IMAGE_MODE = 'dylan-pics';\nconst COUPLE_IMAGE_MODE = 'couple-pics';\nconst ALL_IMAGE_MODE = 'all';\n\nclass SlideshowPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      imageMode: '',\n      imageUrls: [],\n      confettiNumber: 1,\n      confettiElements: []\n    };\n\n    this.allImages = {};\n\n    this.firebase = props.firebase;\n    \n    this.fetchAllImageUrls = this.fetchAllImageUrls.bind(this);\n    this.updateImageUrlsAndImageMode = this.updateImageUrlsAndImageMode.bind(this);\n    this.toggleConfetti = this.toggleConfetti.bind(this);\n    this.uploadImage = this.uploadImage.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchAllImageUrls();\n    this.pushConfettiElement();\n  }\n\n  pushConfettiElement = () => {\n    this.setState({\n      confettiElements: [\n        ...this.state.confettiElements,\n        <Confetti \n          key={this.state.confettiNumber}\n          colors={[\"#ff00ff\", \"#ff0000\", \"#ffb6c1\", \"#f774b4\"]}\n          drawShape={context => this.drawHeart(context, 0, 0, 15, 15)} \n          recycle={false}\n          onConfettiComplete={this.removeConfettiElement}\n        />\n      ],\n      confettiNumber: this.state.confettiNumber + 1\n    });\n  }\n\n  removeConfettiElement = () => {\n    const confettiElements = this.state.confettiElements;\n    confettiElements.shift();\n    this.setState({ confettiElements });\n  }\n\n  fetchAllImageUrls = (callback) => {\n    this.firebase.fetchAllImageUrls(res => {\n      if (res.success) {\n        res.data.forEach((imageSet) => {\n          this.allImages[imageSet.name] = imageSet.urls;\n        });\n        this.updateImageUrlsAndImageMode(COUPLE_IMAGE_MODE);\n      } else {\n        console.error(res.err);\n      }\n    });\n  };\n\n  drawHeart = (context, x, y, width, height) => {\n    context.beginPath();\n    var topCurveHeight = height * 0.3;\n    context.moveTo(x, y + topCurveHeight);\n    // top left curve\n    context.bezierCurveTo(\n      x, y, \n      x - width / 2, y, \n      x - width / 2, y + topCurveHeight\n    );\n              \n    // bottom left curve\n    context.bezierCurveTo(\n      x - width / 2, y + (height + topCurveHeight) / 2, \n      x, y + (height + topCurveHeight) / 2, \n      x, y + height\n      );\n              \n    // bottom right curve\n    context.bezierCurveTo(\n      x, y + (height + topCurveHeight) / 2, \n      x + width / 2, y + (height + topCurveHeight) / 2, \n      x + width / 2, y + topCurveHeight\n    );\n              \n    // top right curve\n    context.bezierCurveTo(\n      x + width / 2, y, \n      x, y, \n      x, y + topCurveHeight\n    );\n\n    context.stroke();\n    context.fill();\n    context.closePath();\n  };\n\n  updateImageUrlsAndImageMode = (newImageMode) => {\n    let oldImageMode = this.state.imageMode;\n    if (oldImageMode === newImageMode) {\n      return;\n    }\n\n    var newImageUrls = [];\n    if (newImageMode === ALL_IMAGE_MODE) {\n      Object.keys(this.allImages).forEach((key) => newImageUrls.push(...this.allImages[key]));\n    } else {\n      newImageUrls.push(...this.allImages[newImageMode]);\n    }\n    this.setState({\n      imageMode: newImageMode,\n      imageUrls: this._shuffleArray(newImageUrls)\n    });\n  };\n\n  toggleConfetti = () => {\n    this.firebase.incrementConfettiCount();\n    this.pushConfettiElement();\n  };\n\n  uploadImage = (event, imageType) => {\n    this.firebase.uploadDylanImage(event.target.files[0], imageType);\n  };\n\n  _shuffleArray = (array) => {\n    for (let i = array.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [array[i], array[j]] = [array[j], array[i]];\n    }\n    return array;\n  };\n\n  render() {\n\n    const fadeProperties = {\n      duration: 5000,\n      transitionDuration: 500,\n      infinite: true,\n      indicators: false,\n    }\n\n    return (\n      <div className={styles.container}>\n        {this.state.confettiElements.map(element => element) /* idk why you have to do this */ }\n        <div className={styles.buttonContainer}>\n          <div \n            className={this.state.imageMode === COUPLE_IMAGE_MODE ? styles.buttonSelected : styles.button}\n            role=\"button\"\n            onClick={(e) => this.updateImageUrlsAndImageMode(COUPLE_IMAGE_MODE)}\n          >\n            Couple\n          </div>\n          <div\n            className={this.state.imageMode === ALL_IMAGE_MODE ? styles.buttonSelected : styles.button}\n            role=\"button\"\n            onClick={(e) => this.updateImageUrlsAndImageMode(ALL_IMAGE_MODE)}\n          >\n            Both\n          </div>\n          <div \n            className={this.state.imageMode === DYLAN_IMAGE_MODE ? styles.buttonSelected : styles.button}\n            role=\"button\"\n            onClick={(e) => this.updateImageUrlsAndImageMode(DYLAN_IMAGE_MODE)}\n          >\n            Dylan\n          </div>\n        </div>\n        <div className={styles.mainContentContainer}>\n          <div className={classNames(styles.paneContainer, 'left')}>\n            <CountdownDisplay />\n          </div>\n          <Fade {...fadeProperties} className={styles.gallery}>\n            {\n              this.state.imageUrls.map((url, index) => <img key={index} src={url} className={styles.image} />)\n            }\n          </Fade>\n          <div className={classNames(styles.paneContainer, 'right')}>\n            <div\n              className={styles.button}\n              role=\"button\"\n              onClick={(e) => this.toggleConfetti()}\n            >\n              I love you!\n            </div>\n          </div>\n        </div>\n        <div className={styles.filePickerContainer}>\n          <input \n            type=\"file\"\n            onChange={(e) => this.uploadImage(e, 'Dylan')}\n            style={{ 'display': 'none' }}\n            ref={fileInput => this.fileInput = fileInput}\n          />\n          <button className={styles.filePickerButton} onClick={() => this.fileInput.click()}>\n            Upload Dylan Image\n          </button>\n          <input\n            type=\"file\"\n            onChange={(e) => this.uploadImage(e, 'Couple')}\n            style={{ 'display': 'none' }}\n            ref={coupleFileInput => this.coupleFileInput = coupleFileInput}\n          />\n          <button className={styles.filePickerButton} onClick={() => this.coupleFileInput.click()}>\n            Upload Couple Image\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(withFirebase(SlideshowPage));\n\n","import React from 'react';\nimport { isAuthenticated } from '../components/JWT/utils';\nimport { Route, Redirect, withRouter } from 'react-router-dom';\n\nclass ProtectedRoute extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      hasAccess: false,\n      isLoaded: false\n    };\n\n    this.checkAccess = this.checkAccess.bind(this);\n  }\n\n  componentDidMount() {\n    this.checkAccess();\n  }\n\n  checkAccess = () => {\n    const isUserAuthenticated = isAuthenticated();\n    this.setState({\n      hasAccess: isUserAuthenticated,\n      isLoaded: true\n    });\n  };\n\n  render() {\n    if (!this.state.isLoaded) {\n      return null;\n    }\n\n    const { component: Component, ...rest } = this.props;\n\n    return (\n      <Route\n        {...rest}\n        render={(props) => {\n          return this.state.hasAccess ? (\n            <Component {...props} />\n          ) : (\n            <Redirect to=\"/\" />\n          );\n        }}\n      />\n    );\n  }\n}\n\nexport default withRouter(ProtectedRoute);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter, Switch, Route } from 'react-router-dom';\nimport Firebase, { FirebaseContext } from './components/Firebase/firebase';\nimport * as serviceWorker from './serviceWorker';\n\nimport LoginPage from './containers/LoginPage';\nimport SlideshowPage from './containers/SlideshowPage';\nimport ProtectedRoute from './routes/ProtectedRoute';\n\nReactDOM.render(\n  <FirebaseContext.Provider value={new Firebase()}>\n    <HashRouter>\n      <Switch>\n        <Route exact path=\"/\" component={LoginPage} />\n        <ProtectedRoute exact path=\"/iloveyou\" component={SlideshowPage} />\n        <Route component={LoginPage} />\n      </Switch>\n    </HashRouter>\n  </FirebaseContext.Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2tJR3\",\"form\":\"styles_form__GwXlb\",\"header\":\"styles_header__1UISp\",\"subheader\":\"styles_subheader__3VhGL\",\"button\":\"styles_button__3y1M6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2MdFG\",\"text\":\"styles_text__iqrqT\",\"smallText\":\"styles_smallText__2nesC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1dViq\",\"buttonContainer\":\"styles_buttonContainer__2Bt1d\",\"filePickerContainer\":\"styles_filePickerContainer__MtY7Q\",\"filePickerButton\":\"styles_filePickerButton__1V8IK\",\"mainContentContainer\":\"styles_mainContentContainer__24AwM\",\"button\":\"styles_button__1mMk9\",\"buttonSelected\":\"styles_buttonSelected__3xAfS\",\"paneContainer\":\"styles_paneContainer__2orr4\",\"left\":\"styles_left__1X500\",\"center\":\"styles_center__1m3dU\",\"right\":\"styles_right__2Bb0Q\",\"image\":\"styles_image__1cU1t\",\"gallery\":\"styles_gallery__1yrV0\"};"],"sourceRoot":""}