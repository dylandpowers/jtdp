(this.webpackJsonpjtdp=this.webpackJsonpjtdp||[]).push([[0],{118:function(e,t,n){e.exports={container:"styles_container__2tJR3",form:"styles_form__GwXlb",header:"styles_header__1UISp",subheader:"styles_subheader__3VhGL",button:"styles_button__3y1M6"}},119:function(e,t,n){e.exports={container:"styles_container__2MdFG",text:"styles_text__iqrqT",smallText:"styles_smallText__2nesC"}},156:function(e,t,n){e.exports={container:"styles_container__19NJp",textContainer:"styles_textContainer__B6SEM",image:"styles_image__Ce49u"}},240:function(e,t,n){e.exports={input:"styles_input__2gjR5"}},244:function(e,t,n){e.exports=n.p+"static/media/heart.de7e3083.png"},26:function(e,t,n){e.exports={container:"styles_container__1dViq",buttonContainer:"styles_buttonContainer__2Bt1d",filePickerContainer:"styles_filePickerContainer__MtY7Q",filePickerButton:"styles_filePickerButton__1V8IK",mainContentContainer:"styles_mainContentContainer__24AwM",button:"styles_button__1mMk9",buttonSelected:"styles_buttonSelected__3xAfS",paneContainer:"styles_paneContainer__2orr4",left:"styles_left__1X500",center:"styles_center__1m3dU",right:"styles_right__2Bb0Q",image:"styles_image__1cU1t",gallery:"styles_gallery__1yrV0"}},278:function(e,t,n){e.exports=n(433)},298:function(e,t,n){},302:function(e,t){},304:function(e,t){},342:function(e,t){},343:function(e,t){},433:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(24),o=n.n(c),i=n(92),s=n(21),l=n(128),u=n(88),m=n.n(u),f={apiKey:"AIzaSyBWyqYKmwZrc74LWhyb4zTccPQZkPtwDVA",authDomain:"jtdp-60b3d.firebaseapp.com",databaseURL:"https://jtdp-60b3d.firebaseio.com",projectId:"jtdp-60b3d",storageBucket:"jtdp-60b3d.appspot.com",messagingSenderId:"786415873557",appId:"1:786415873557:web:defecb2e86a857bf8b281c"},d=r.a.createContext(null),h=function e(){var t=this;Object(l.a)(this,e),this.signInWithEmail=function(e,n,a){t.auth.signInWithEmailAndPassword(e,n).then((function(){return a({success:!0})})).catch((function(e){return a({success:!1,err:e})}))},this.fetchAllImageUrls=function(e){t.storage.ref().listAll().then((function(t){Promise.all(t.prefixes.map((function(e){return new Promise((function(t,n){e.listAll().then((function(a){Promise.all(a.items.map((function(e){return e.getDownloadURL()}))).then((function(n){return t({name:e.name,urls:n})})).catch((function(e){return n(e)}))})).catch((function(e){return n(e)}))}))}))).then((function(t){return e({success:!0,data:t})})).catch((function(t){return e({success:!1,err:t})}))})).catch((function(t){return e({success:!1,err:t})}))},this.fetchLetter=function(e,t){m.a.database().ref().child("letters").once("value",(function(n){if(n.val()){var a=n.val()[e];t({success:!0,text:a})}else t({success:!1})}))},this.incrementConfettiCount=function(){var e,n=t.auth.currentUser;n&&(e=n.email.startsWith("j")?"Jasmine":"Dylan",m.a.database().ref("clicks").child(e).transaction((function(e){return(e||0)+1})))},this.uploadDylanImage=function(e,n){var a="Dylan"===n?"dylan-pics/":"couple-pics/";t.storage.ref().child(a+e.name).put(e)},this.getMoviesToWatch=function(e,n){t.firestore.collection("movies_to_watch").get().then((function(t){var n=[];t.forEach((function(e){return n.push(e.data())})),e(n)})).catch((function(e){return n(e)}))},this.saveMovie=function(e){t.firestore.collection("movies_to_watch").add(e).catch((function(e){return console.error(e)}))},m.a.initializeApp(f),this.auth=m.a.auth(),this.storage=m.a.storage(),this.firestore=m.a.firestore()},p=function(e){return function(t){return r.a.createElement(d.Consumer,null,(function(n){return r.a.createElement(e,Object.assign({},t,{firebase:n}))}))}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(298);var b=n(238),g=n(274),v=n(239),y=n(129),E=n(275),_=n(118),j=n.n(_),C=n(4),O=n(240),I=n.n(O),k=function(e){var t=e.placeholder,n=e.onChange,a=e.autoFocus,c=e.value,o=e.width,i=e.type,s=e.customStyle,l=e.id;return r.a.createElement("input",{className:I.a.input,style:Object(C.a)({width:"calc(".concat(o," - 20px)")},s),id:l,placeholder:t,onChange:n,type:i||"text",autoFocus:a?"autofocus":"",value:c})},w=n(175),x=n.n(w),M=function(){try{x.a.verify(localStorage.getItem("jwt-token"),"wCDMNmSbsNPa1pBOgRuE");return!0}catch(e){return!1}},S=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(g.a)(this,Object(v.a)(t).call(this,e))).state={email:"",password:"",isLoggedIn:!1},n.firebase=e.firebase,n.onSubmit=n.onSubmit.bind(Object(y.a)(n)),n}return Object(E.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.setState({isLoggedIn:M()})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),this.firebase.signInWithEmail(this.state.email,this.state.password,(function(e){var n,a;e.success?(n=t.state.email,a=function(e){e?console.error(e):t.props.history.push("/iloveyou")},x.a.sign({user:n},"wCDMNmSbsNPa1pBOgRuE",{expiresIn:2592e3},(function(e,t){e?a(e):(localStorage.setItem("jwt-token",t),a())}))):console.error(e.err)}))}},{key:"render",value:function(){var e=this;return this.state.isLoggedIn?r.a.createElement(s.a,{to:"/iloveyou"}):r.a.createElement("div",{className:j.a.container},r.a.createElement("form",{onSubmit:this.onSubmit,className:j.a.form},r.a.createElement("div",{className:j.a.header},"Hi love :)"),r.a.createElement(k,{value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})},placeholder:"email",type:"text",width:"80%"}),r.a.createElement(k,{customStyle:{marginTop:"15px"},value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})},placeholder:"password",type:"password",width:"80%"}),r.a.createElement("input",{className:j.a.button,type:"submit",value:"Login",tabIndex:0})))}}]),t}(r.a.Component),N=Object(s.g)(p(S)),A=n(7),U=n(32),D=n(48),P=n(64),T=n(58),B=n(61),L=n(65),W=n(242),z=n(174),q=n(243),F=n.n(q),R=n(3),J=n.n(R),V=n(26),G=n.n(V),H=n(119),K=n.n(H),Q=function(e){function t(e){var n;return Object(U.a)(this,t),(n=Object(P.a)(this,Object(T.a)(t).call(this,e))).props=e,n}return Object(L.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:K.a.container},r.a.createElement("u",{className:K.a.smallText},"Countdown to being together"),r.a.createElement(z.a,{date:"2021-02-27T00:30:00+00:00",renderer:function(e){return e.completed?r.a.createElement("div",{className:K.a.text},"We're Together!"):r.a.createElement("div",{className:K.a.text},e.days,"d ",e.hours,"h ",e.minutes,"m ",e.seconds,"s")}}))}}]),t}(r.a.Component),X=function(e){function t(e){var n;return Object(U.a)(this,t),(n=Object(P.a)(this,Object(T.a)(t).call(this,e))).pushConfettiElement=function(){n.setState({confettiElements:[].concat(Object(A.a)(n.state.confettiElements),[r.a.createElement(F.a,{key:n.state.confettiNumber,colors:["#ff00ff","#ff0000","#ffb6c1","#f774b4"],drawShape:function(e){return n.drawHeart(e,0,0,15,15)},recycle:!1,onConfettiComplete:n.removeConfettiElement})]),confettiNumber:n.state.confettiNumber+1})},n.removeConfettiElement=function(){var e=n.state.confettiElements;e.shift(),n.setState({confettiElements:e})},n.fetchAllImageUrls=function(e){n.firebase.fetchAllImageUrls((function(e){e.success?(e.data.forEach((function(e){n.allImages[e.name]=e.urls})),n.updateImageUrlsAndImageMode("couple-pics")):console.error(e.err)}))},n.drawHeart=function(e,t,n,a,r){e.beginPath();var c=.3*r;e.moveTo(t,n+c),e.bezierCurveTo(t,n,t-a/2,n,t-a/2,n+c),e.bezierCurveTo(t-a/2,n+(r+c)/2,t,n+(r+c)/2,t,n+r),e.bezierCurveTo(t,n+(r+c)/2,t+a/2,n+(r+c)/2,t+a/2,n+c),e.bezierCurveTo(t+a/2,n,t,n,t,n+c),e.stroke(),e.fill(),e.closePath()},n.updateImageUrlsAndImageMode=function(e){if(n.state.imageMode!==e){var t=[];"all"===e?Object.keys(n.allImages).forEach((function(e){return t.push.apply(t,Object(A.a)(n.allImages[e]))})):t.push.apply(t,Object(A.a)(n.allImages[e])),n.setState({imageMode:e,imageUrls:n._shuffleArray(t)})}},n.toggleConfetti=function(){n.firebase.incrementConfettiCount(),n.pushConfettiElement()},n.uploadImage=function(e,t){n.firebase.uploadDylanImage(e.target.files[0],t)},n._shuffleArray=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e},n.state={imageMode:"",imageUrls:[],confettiNumber:1,confettiElements:[]},n.allImages={},n.firebase=e.firebase,n.fetchAllImageUrls=n.fetchAllImageUrls.bind(Object(B.a)(n)),n.updateImageUrlsAndImageMode=n.updateImageUrlsAndImageMode.bind(Object(B.a)(n)),n.toggleConfetti=n.toggleConfetti.bind(Object(B.a)(n)),n.uploadImage=n.uploadImage.bind(Object(B.a)(n)),n}return Object(L.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.fetchAllImageUrls(),this.pushConfettiElement()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:G.a.container},this.state.confettiElements.map((function(e){return e})),r.a.createElement("div",{className:G.a.buttonContainer},r.a.createElement("div",{className:"couple-pics"===this.state.imageMode?G.a.buttonSelected:G.a.button,role:"button",onClick:function(t){return e.updateImageUrlsAndImageMode("couple-pics")}},"Couple"),r.a.createElement("div",{className:"all"===this.state.imageMode?G.a.buttonSelected:G.a.button,role:"button",onClick:function(t){return e.updateImageUrlsAndImageMode("all")}},"Both"),r.a.createElement("div",{className:"dylan-pics"===this.state.imageMode?G.a.buttonSelected:G.a.button,role:"button",onClick:function(t){return e.updateImageUrlsAndImageMode("dylan-pics")}},"Dylan")),r.a.createElement("div",{className:G.a.mainContentContainer},r.a.createElement("div",{className:J()(G.a.paneContainer,"left")},r.a.createElement(Q,null)),r.a.createElement(W.Fade,Object.assign({},{duration:5e3,transitionDuration:500,infinite:!0,indicators:!1},{className:G.a.gallery}),this.state.imageUrls.map((function(e,t){return r.a.createElement("img",{key:t,src:e,className:G.a.image})}))),r.a.createElement("div",{className:J()(G.a.paneContainer,"right")},r.a.createElement("div",{className:G.a.button,role:"button",onClick:function(t){return e.toggleConfetti()}},"I love you!"))),r.a.createElement("div",{className:G.a.filePickerContainer},r.a.createElement("input",{type:"file",onChange:function(t){return e.uploadImage(t,"Dylan")},style:{display:"none"},ref:function(t){return e.fileInput=t}}),r.a.createElement("button",{className:G.a.filePickerButton,onClick:function(){return e.fileInput.click()}},"Upload Dylan Image"),r.a.createElement("input",{type:"file",onChange:function(t){return e.uploadImage(t,"Couple")},style:{display:"none"},ref:function(t){return e.coupleFileInput=t}}),r.a.createElement("button",{className:G.a.filePickerButton,onClick:function(){return e.coupleFileInput.click()}},"Upload Couple Image")))}}]),t}(r.a.Component),Y=Object(s.g)(p(X)),Z=n(156),$=n.n(Z),ee=n(244),te=n.n(ee),ne=function(e){function t(e){var n;return Object(U.a)(this,t),(n=Object(P.a)(this,Object(T.a)(t).call(this,e))).firebase=e.firebase,n.state={letter:""},n}return Object(L.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.firebase.fetchLetter("six-month",(function(t){t.success?e.setState({letter:t.text}):console.error("Error retrieving data")}))}},{key:"render",value:function(){return r.a.createElement("div",{className:$.a.container},r.a.createElement("div",{className:$.a.textContainer},this.state.letter.split("\\n").map((function(e){return r.a.createElement("p",null,e)}))),r.a.createElement("div",{className:$.a.image},r.a.createElement("img",{src:te.a})))}}]),t}(a.Component),ae=p(Object(s.g)(ne)),re=n(49),ce=function(e){function t(e){var n;return Object(U.a)(this,t),(n=Object(P.a)(this,Object(T.a)(t).call(this,e))).checkAccess=function(){var e=M();n.setState({hasAccess:e,isLoaded:!0})},n.state={hasAccess:!1,isLoaded:!1},n.checkAccess=n.checkAccess.bind(Object(B.a)(n)),n}return Object(L.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.checkAccess()}},{key:"render",value:function(){var e=this;if(!this.state.isLoaded)return null;var t=this.props,n=t.component,a=Object(re.a)(t,["component"]);return r.a.createElement(s.b,Object.assign({},a,{render:function(t){return e.state.hasAccess?r.a.createElement(n,t):r.a.createElement(s.a,{to:"/"})}}))}}]),t}(r.a.Component),oe=Object(s.g)(ce),ie=n(102),se=n(103);function le(){var e=Object(ie.a)(["\n  background-color: #ccccff;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n"]);return le=function(){return e},e}var ue=se.a.div(le());function me(e){var t=e.children;return r.a.createElement(ue,null,t)}var fe=n(273),de=n(77),he=n(440),pe=n(442),be=n(264),ge=n(444),ve=n(443),ye=n(441),Ee=n(248),_e=n.n(Ee);function je(e){var t=Object(a.useState)([]),n=Object(de.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){if(""!==e){!function(e,t,n){var a="".concat("https://api.themoviedb.org/3/search/movie","?query=").concat(e,"&api_key=92e2dd5d5c15b8e895ccbb731bb8a7ab");_e.a.get(a).then((function(e){var n=e.data.results.map((function(e){return{title:e.original_title,description:e.overview,avatarUrl:"".concat("https://image.tmdb.org/t/p/w92","/").concat(e.poster_path)}}));t(n)})).catch((function(e){n()}))}(e,c,(function(){console.error("There was an issue fetching movies.")}))}else c([])}),[e]),{movies:r}}function Ce(e){var t=e.showModal,n=e.addMovie,c=e.closeModal,o=Object(a.useState)(""),i=Object(de.a)(o,2),s=i[0],l=i[1],u=je(s).movies;return r.a.createElement(ve.a,{title:"Add Movie",visible:t,onOk:function(){console.log("Ok")}},r.a.createElement(ye.a,{placeholder:"Search Movies",onChange:function(e){return l(e.target.value)}}),r.a.createElement(he.b,{dataSource:u,renderItem:function(e){return r.a.createElement(he.b.Item,{key:"".concat(e.title,"-").concat(Math.ceil(1e3*Math.random())),onClick:function(){n(e),c()},style:{cursor:"pointer"}},r.a.createElement(he.b.Item.Meta,{avatar:r.a.createElement(pe.a,{shape:"square",size:"large",src:e.avatarUrl}),title:e.title,description:e.description}))}}))}function Oe(e){var t=Object(a.useState)(!1),n=Object(de.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)([]),s=Object(de.a)(i,2),l=s[0],u=s[1],m=Object(a.useState)(!1),f=Object(de.a)(m,2),h=f[0],p=f[1],b=Object(a.useContext)(d);return Object(a.useEffect)((function(){b.getMoviesToWatch((function(e){o(!0),u(e)}),(function(e){o(!0),console.error(e)}))}),[]),c?r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{role:"button",tabIndex:0,onClick:function(){return p(!0)},style:{fontSize:"24px"}}),r.a.createElement(he.b,{dataSource:l,renderItem:function(e){return r.a.createElement(he.b.Item,{key:e.title},r.a.createElement(he.b.Item.Meta,{avatar:r.a.createElement(pe.a,{shape:"square",size:"large",src:e.avatarUrl}),title:e.title,description:e.description}))}}),r.a.createElement(Ce,{showModal:h,addMovie:function(e){b.saveMovie(e),u([].concat(Object(fe.a)(l),[e]))},closeModal:function(){return p(!1)}})):r.a.createElement(be.a,{size:"large"})}function Ie(){var e=Object(ie.a)(["\n  align-self: center;\n  color: white;\n  text-decoration: underline;\n"]);return Ie=function(){return e},e}function ke(){var e=Object(ie.a)(["\n  padding: 20px;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n"]);return ke=function(){return e},e}function we(){var e=Object(ie.a)(["\n  display: flex;\n"]);return we=function(){return e},e}var xe=se.a.div(we()),Me=se.a.div(ke()),Se=se.a.h1(Ie());o.a.render(r.a.createElement(d.Provider,{value:new h},r.a.createElement(i.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:N}),r.a.createElement(oe,{exact:!0,path:"/iloveyou",component:Y}),r.a.createElement(oe,{exact:!0,path:"/sixmonths",component:ae}),r.a.createElement(oe,{exact:!0,path:"/movies",component:function(e){return r.a.createElement(me,null,r.a.createElement(xe,null,r.a.createElement(Me,null,r.a.createElement(Se,null,"To Watch"),r.a.createElement(Oe,null)),r.a.createElement(Me,null,'This is the "watched" column')))}}),r.a.createElement(s.b,{component:N})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[278,1,2]]]);
//# sourceMappingURL=main.d755fbf4.chunk.js.map